{"version":3,"sources":["images/logo.svg","images/edit-button.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/constants.js","utils/Api.js","components/PopupWithForm.js","components/Input.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","user","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","onClick","name","length","Main","props","currentUser","avatar","editIcon","onEditAvatar","type","aria-label","form","id","onEditProfile","about","onAddPlace","cards","map","key","Footer","ImagePopup","isOpen","image","title","onClose","avatarEntity","cardLikesEntity","api","baseUrl","options","this","_baseUrl","_options","entity","fetch","then","res","ok","json","Promise","reject","statusText","method","_getDataPromise","body","JSON","stringify","imageLink","cardId","_addCardLike","_removeCardLike","headers","authorization","PopupWithForm","useState","isInputError","setIsInputError","useEffect","errorFlags","arr","Object","keys","Children","count","children","k","onSubmit","noValidate","disabled","submitButtonLabel","Input","validateChange","e","setState","inputName","target","inputValue","value","validity","valid","inputErrorMessage","validationMessage","onInputChange","state","placeholder","placeHolder","minLength","maxLength","required","isRequired","onChange","ref","refs","defaultValue","Component","EditProfilePopup","setErrorFlags","values","setValues","handleChange","isSaving","preventDefault","onUpdateUser","EditAvatarPopup","handleSubmit","onUpdateAvatar","avatarRef","current","createRef","AddPlacePopup","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsSaving","editProfileChildCount","setEditProfileChildCount","getUserInfo","catch","err","console","log","getCards","closeAllPopups","Provider","changeLikeCardStatus","newCard","newCards","c","removeCard","filter","updateUserInfo","childCounter","childCount","updateUserAvatar","addCard","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","error","message"],"mappings":"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","file":"static/js/main.dae38549.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.8f7611ae.svg\";","module.exports = __webpack_public_path__ + \"static/media/edit-button.93eceffd.svg\";","import React from 'react';\nimport logo from '../images/logo.svg';\n\nexport default function Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Around The USA logo\" />\n    </header>\n  );\n}\n","import React from \"react\";\n\nconst CurrentUserContext = React.createContext();\n\nexport default CurrentUserContext;\n","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nexport default function Card({ card, onCardClick, onCardLike, onCardDelete }) {\n  const user = React.useContext(CurrentUserContext);\n  const isOwn = card.owner._id === user._id;\n  const cardDeleteButtonClassName = `trash-button ${isOwn ? \"\" : \"hide\"}`;\n  const isLiked = card.likes.some((i) => i._id === user._id);\n  const cardLikeButtonClassName = `like__button ${\n    isLiked ? \"like__button_active\" : \"\"\n  }`;\n  return (\n    <li className=\"place\">\n      <img\n        className=\"place__picture\"\n        alt=\"place\"\n        src={card.link}\n        onClick={() => onCardClick(card)}\n      />\n      <button\n        className={cardDeleteButtonClassName}\n        onClick={() => onCardDelete(card._id)}\n      ></button>\n      <div className=\"place__name-group\">\n        <h3 className=\"place__name\">{card.name}</h3>\n        <div className=\"like\">\n          <button\n            className={cardLikeButtonClassName}\n            onClick={() => onCardLike(card._id, isLiked)}\n          ></button>\n          <p className=\"like__count\">{card.likes.length}</p>\n        </div>\n      </div>\n    </li>\n  );\n}\n","import React from \"react\";\nimport Card from \"./Card.js\";\nimport editIcon from \"../images/edit-button.svg\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nexport default function Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <img\n            src={currentUser.avatar}\n            alt=\"profile\"\n            className=\"profile__avatar\"\n          />\n          <img\n            src={editIcon}\n            alt=\"edit profile\"\n            className=\"edit-button edit-button_place_avatar\"\n            onClick={props.onEditAvatar}\n          />\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__person\">\n            <h1 className=\"profile__name\">{currentUser.name}</h1>\n            <button\n              className=\"edit-button\"\n              type=\"button\"\n              aria-label=\"edit profile\"\n              form=\"edit-profile\"\n              id=\"edit-profile-button\"\n              onClick={props.onEditProfile}\n            ></button>\n          </div>\n          <p className=\"profile__title\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"add-button\"\n          type=\"button\"\n          name=\"open-button\"\n          onClick={props.onAddPlace}\n        ></button>\n      </section>\n      <section className=\"elements\">\n        <ul className=\"places\">\n          {props.cards.map((card, i) => (\n            <Card\n              card={card}\n              key={i}\n              onCardClick={props.onCardClick}\n              onCardLike={props.onCardLike}\n              onCardDelete={props.onCardDelete}\n            />\n          ))}\n        </ul>\n      </section>\n    </main>\n  );\n}\n","import React from 'react';\n\nexport default function Footer() {\n  return (\n    <footer>\n      <p className=\"footer\">© 2020 Around The U.S.</p>\n    </footer>\n  );\n}\n","import React from 'react';\n\nexport default function ImagePopup(props) {\n  return (\n    <section className={props.isOpen ? \"place-popup\" : \"place-popup hide\"}>\n      <div className=\"overlay overlay_opacity_darker\"></div>\n      <div className=\"form form_display_pic\">\n        <img className=\"form__pic\" src={props.image} alt={props.title} />\n        <p className=\"form__pic-name\">{props.title}</p>\n        <button type=\"button\" className=\"form__close-button\" onClick={props.onClose}></button>\n      </div>\n    </section>\n  );\n}\n","export const meEntity = \"users/me\";\nexport const cardsEntity = \"cards\";\nexport const avatarEntity = `${meEntity}/avatar`;\nexport const cardLikesEntity = `${cardsEntity}/likes`;\n","import {\n  meEntity,\n  avatarEntity,\n  cardsEntity,\n  cardLikesEntity,\n} from \"./constants.js\";\n\nclass Api {\n  constructor(baseUrl, options) {\n    this._baseUrl = baseUrl;\n    this._options = options;\n  }\n\n  _getDataPromise(entity) {\n    return fetch(`${this._baseUrl}/${entity}`, this._options).then((res) => {\n      return res.ok ? res.json() : Promise.reject(`Error: ${res.statusText}`);\n    });\n  }\n\n  getUserInfo() {\n    this._options.method = \"GET\";\n    return this._getDataPromise(meEntity);\n  }\n\n  getCards() {\n    this._options.method = \"GET\";\n    return this._getDataPromise(cardsEntity);\n  }\n\n  updateUserInfo(user) {\n    this._options.method = \"PATCH\";\n    this._options.body = JSON.stringify(user);\n    return this._getDataPromise(meEntity);\n  }\n\n  updateUserAvatar(imageLink) {\n    this._options.method = \"PATCH\";\n    this._options.body = JSON.stringify({ avatar: imageLink });\n    return this._getDataPromise(avatarEntity);\n  }\n\n  addCard(name, link) {\n    this._options.method = \"POST\";\n    this._options.body = JSON.stringify({\n      name: name,\n      link: link,\n    });\n    return this._getDataPromise(cardsEntity);\n  }\n\n  removeCard(cardId) {\n    this._options.method = \"DELETE\";\n    return this._getDataPromise(`${cardsEntity}/${cardId}`);\n  }\n\n  changeLikeCardStatus(cardId, isLiked) {\n    return isLiked ? this._addCardLike(cardId) : this._removeCardLike(cardId);\n  }\n\n  _addCardLike(cardId) {\n    this._options.method = \"PUT\";\n    return this._getDataPromise(`${cardLikesEntity}/${cardId}`);\n  }\n\n  _removeCardLike(cardId) {\n    this._options.method = \"DELETE\";\n    return this._getDataPromise(`${cardLikesEntity}/${cardId}`);\n  }\n}\n\nconst api = new Api(\"https://around.nomoreparties.co/v1/group-3\", {\n  headers: {\n    authorization: \"aae17431-b773-4b38-a586-5c35cb6461b9\",\n    \"Content-Type\": \"application/json\",\n  },\n});\n\nexport default api;\n","import React from \"react\";\n\nexport default function PopupWithForm(props) {\n  const [isInputError, setIsInputError] = React.useState(true);\n\n  React.useEffect(() => {\n    if (props.errorFlags) {\n      const arr = Object.keys(props.errorFlags);\n      arr.length === React.Children.count(props.children) &&\n        setIsInputError(arr.some((k) => props.errorFlags[k] === true));\n    }\n  }, [props.errorFlags, props.children]);\n\n  return (\n    <section className={props.isOpen ? `${props.name}` : `${props.name} hide`}>\n      <div className=\"overlay\"></div>\n      <form\n        className=\"form\"\n        id=\"edit-profile\"\n        onSubmit={props.onSubmit}\n        noValidate\n      >\n        <h2 className=\"form__title\">{props.title}</h2>\n        {props.children}\n        <button\n          type=\"submit\"\n          className={`form__save-button ${\n            isInputError ? \"form__save-button_disabled\" : \"\"\n          }`}\n          disabled={isInputError}\n        >\n          {props.submitButtonLabel}\n        </button>\n        <button\n          type=\"button\"\n          className=\"form__close-button\"\n          onClick={props.onClose}\n        ></button>\n      </form>\n    </section>\n  );\n}\n","import React from \"react\";\n\nexport default class Input extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {};\n  }\n\n  validateChange = (e) => {\n    this.setState(\n      {\n        inputName: e.target.name,\n        inputValue: e.target.value,\n        isInputError: !e.target.validity.valid,\n        inputErrorMessage: e.target.validationMessage,\n      },\n      () => this.props.onInputChange(this.state)\n    );\n  };\n\n  render() {\n    return (\n      <>\n        <input\n          type={this.props.type}\n          placeholder={this.props.placeHolder}\n          name={this.props.name}\n          className={`form__input form__input_type_${this.props.name} ${\n            this.state.isInputError ? \"form__input_type_error-indicator\" : \"\"\n          }`}\n          id={this.props.name}\n          minLength={this.props.minLength}\n          maxLength={this.props.maxLength}\n          required={this.props.isRequired}\n          onChange={this.validateChange}\n          ref={this.props.refs}\n          defaultValue={this.props.defaultValue}\n        />\n        <span\n          className={`form__input-error ${\n            this.state.isInputError ? \"form__input-error-msg\" : \"\"\n          }`}\n          id={`${this.props.name}-error`}\n        >\n          {this.state.inputErrorMessage}\n        </span>\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"./Input\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction EditProfilePopup(props) {\n  const [errorFlags, setErrorFlags] = React.useState({});\n  const currentUser = React.useContext(CurrentUserContext);\n  const [values, setValues] = React.useState({});\n\n  React.useEffect(() => {\n    setValues(currentUser);\n  }, [currentUser]);\n\n  const handleChange = ({\n    inputName,\n    inputValue,\n    isInputError,\n    inputErrorMessage,\n  }) => {\n    setValues({ ...values, [inputName]: inputValue });\n    setErrorFlags({ ...errorFlags, [inputName]: isInputError });\n  };\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.onUpdateUser({\n      ...currentUser,\n      ...values,\n    });\n    setValues({});\n  }\n\n  return (\n    <PopupWithForm\n      title=\"Edit profile\"\n      name=\"edit-profile-form\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      submitButtonLabel={props.isSaving ? \"Saving...\" : \"Save\"}\n      onSubmit={handleSubmit}\n      errorFlags={errorFlags}\n    >\n      <Input\n        type=\"text\"\n        name=\"name\"\n        value={values.name}\n        placeHolder=\"Name\"\n        minLength=\"2\"\n        maxLength=\"40\"\n        isRequired={true}\n        onInputChange={handleChange}\n        defaultValue={values.name}\n      />\n      <Input\n        type=\"text\"\n        name=\"about\"\n        value={values.about}\n        placeHolder=\"Title\"\n        minLength=\"2\"\n        maxLength=\"200\"\n        isRequired={true}\n        onInputChange={handleChange}\n        defaultValue={values.about}\n      />\n    </PopupWithForm>\n  );\n}\nexport default EditProfilePopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"./Input\";\n\nclass EditAvatarPopup extends React.Component {\n  constructor(props) {\n    super(props);\n    this.avatarRef = React.createRef();\n    this.state = {};\n  }\n\n  handleChange = ({ inputName, isInputError }) => {\n    //only collect error status as value is passed by ref according to project brief.\n    this.setState({ ...this.state, [inputName]: isInputError });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    this.props.onUpdateAvatar(this.avatarRef.current.value);\n  };\n\n  render() {\n    return (\n      <PopupWithForm\n        title=\"Change profile picture\"\n        name=\"edit-profile-picture\"\n        isOpen={this.props.isOpen}\n        onClose={this.props.onClose}\n        submitButtonLabel={this.props.isSaving ? \"Saving...\" : \"Save\"}\n        onSubmit={this.handleSubmit}\n        errorFlags={this.state}\n      >\n        <Input\n          type=\"url\"\n          name=\"image-link\"\n          refs={this.avatarRef}\n          placeHolder=\"Image Link\"\n          isRequired={true}\n          onInputChange={this.handleChange}\n        />\n      </PopupWithForm>\n    );\n  }\n}\n\nexport default EditAvatarPopup;\n","import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\nimport Input from \"./Input\";\n\nconst AddPlacePopup = (props) => {\n  const [values, setValues] = React.useState({});\n  const [errorFlags, setErrorFlags] = React.useState({});\n\n  const handleChange = ({ inputName, inputValue, isInputError }) => {\n    setValues({ ...values, [inputName]: inputValue });\n    setErrorFlags({ ...errorFlags, [inputName]: isInputError });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.onAddPlace(values.name, values.link);\n  };\n\n  return (\n    <PopupWithForm\n      title=\"New place\"\n      name=\"new-place-form\"\n      isOpen={props.isOpen}\n      onClose={props.onClose}\n      submitButtonLabel={props.isSaving ? \"Saving...\" : \"Create\"}\n      onSubmit={handleSubmit}\n      errorFlags={errorFlags}\n    >\n      <Input\n        type=\"text\"\n        name=\"name\"\n        value={values.name}\n        placeHolder=\"Title\"\n        minLength=\"0\"\n        maxLength=\"30\"\n        isRequired={true}\n        onInputChange={handleChange}\n      />\n      <Input\n        type=\"url\"\n        name=\"link\"\n        value={values.link}\n        placeHolder=\"Image Link\"\n        isRequired={true}\n        onInputChange={handleChange}\n      />\n    </PopupWithForm>\n  );\n};\n\nexport default AddPlacePopup;\n","import React from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport Footer from \"./Footer\";\nimport ImagePopup from \"./ImagePopup\";\nimport api from \"../utils/Api\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(\n    false\n  );\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(\n    false\n  );\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isSaving, setIsSaving] = React.useState(false);\n  const [editProfileChildCount, setEditProfileChildCount] = React.useState(0);\n\n  React.useEffect(() => {\n    api\n      .getUserInfo()\n      .then((user) => {\n        setCurrentUser(user);\n      })\n      .catch((err) => console.log(err));\n\n    api\n      .getCards()\n      .then((cards) => setCards(cards))\n      .catch((err) => console.log(err));\n  }, []);\n\n  const handleUserUpdate = (user) => {\n    setIsSaving(true);\n    api\n      .updateUserInfo(user)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsSaving(false);\n        setIsEditProfilePopupOpen(false);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleAddPlace = (name, link) => {\n    setIsSaving(true);\n    api\n      .addCard(name, link)\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        setIsSaving(false);\n        setIsAddPlacePopupOpen(false);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleCardLike = (cardId, isLiked) => {\n    api\n      .changeLikeCardStatus(cardId, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === cardId ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleCardDelete = (cardId) => {\n    api\n      .removeCard(cardId)\n      .then((res) => {\n        console.log(res);\n        const newCards = cards.filter((c) => c._id !== cardId);\n        setCards(newCards);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleAvatarUpdate = (avatar) => {\n    setIsSaving(true);\n    api\n      .updateUserAvatar(avatar)\n      .then((res) => {\n        setCurrentUser(res);\n        setIsSaving(false);\n        setIsEditAvatarPopupOpen(false);\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  };\n  const handleEditAvatarClick = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n  const handleEditProfileClick = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n  const handleAddPlaceClick = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n  const closeAllPopups = () => {\n    if (isEditProfilePopupOpen) {\n      setIsEditProfilePopupOpen(false);\n    }\n    if (isAddPlacePopupOpen) {\n      setIsAddPlacePopupOpen(false);\n    }\n    if (isEditAvatarPopupOpen) {\n      setIsEditAvatarPopupOpen(false);\n    }\n    if (isImagePopupOpen) {\n      setSelectedCard({});\n      setIsImagePopupOpen(false);\n    }\n  };\n\n  const editProfileChildrenCounter = (count) => {\n    setEditProfileChildCount(count);\n  };\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header />\n        <Main\n          onEditProfile={handleEditProfileClick}\n          onAddPlace={handleAddPlaceClick}\n          onEditAvatar={handleEditAvatarClick}\n          onCardClick={handleCardClick}\n          cards={cards}\n          onCardLike={handleCardLike}\n          onCardDelete={handleCardDelete}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUserUpdate}\n          isSaving={isSaving}\n          childCounter={editProfileChildrenCounter}\n          childCount={editProfileChildCount}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleAvatarUpdate}\n          isSaving={isSaving}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlace}\n          isSaving={isSaving}\n        />\n        <ImagePopup\n          image={selectedCard.link}\n          title={selectedCard.name}\n          isOpen={isImagePopupOpen}\n          onClose={closeAllPopups}\n        />\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}